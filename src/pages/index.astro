---
import BaseLayout from "../layouts/BaseLayout.astro";
import LandingHero from "../components/LandingHero.astro";

import FeaturedProducts from "../components/FeaturedProducts.astro";
import WhyChooseUs from "../components/WhyChooseUs.astro";
import { getCollection } from "astro:content";

const projects = (await getCollection("projects")).filter(
  (p) => !p.data.draft
);

// Get unique categories for the sidebar
const categories = [
  ...new Set(projects.map(p => p.data.category))
];
---

<BaseLayout title="ProjectDesk" activePage="home">
  <div class="landing-page">
    <LandingHero projects={projects} />

    <FeaturedProducts projects={projects} />
    <WhyChooseUs />
  </div>
</BaseLayout>

<style>
  /* Page specific overrides if needed */
  .landing-page {
    background-color: #f8f9fa;
  }
</style>
